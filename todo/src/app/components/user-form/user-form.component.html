<h1>Nouvel Utilisateur</h1><hr/>
<form [formGroup]="userForm" (ngSubmit)="onSubmit(userForm)">
  <mat-form-field appearance="fill">
    <mat-label>Prenom</mat-label>
    <input matInput placeholder="Ex: Mathieu" type="text" name="firstName" formControlName="firstName">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Nom</mat-label>
    <input matInput placeholder="Ex: Dupont" type="text" name="lastName" formControlName="lastName">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Entrez votre email</mat-label>
    <input matInput placeholder="pat@example.com" type="email" formControlName="email" name="email">
    <!-- <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error> -->
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Team</mat-label>
    <mat-select name="team" formControlName="team">
      <mat-option value="">--Choisissez une team--</mat-option>
      <mat-option value="kiwi">Kiwi</mat-option>
      <mat-option value="pasteque">Pasteque</mat-option>
    </mat-select>
    <mat-hint align="end">Here's the dropdown arrow ^</mat-hint>
  </mat-form-field>

  <label>Skills: </label>
  <div formArrayName="skillArray" *ngFor="let skill of userForm.get('skillArray')?.value; let i = index; trackBy: trackByFunction">
    <label>({{ i }})</label>
    <input type="text" matInput [formControlName]="i">
    <button mat-raised-button type="button" (click)="removeSkill(i)">Effacer</button>
  </div>

  <button mat-raised-button type="button" (click)="addSkills()">Ajouter un skill</button>
  <button mat-raised-button color="primary" type="submit" [disabled]="userForm.invalid">Envoyer</button>
</form>
